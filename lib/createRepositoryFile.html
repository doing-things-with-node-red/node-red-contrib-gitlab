<script type="text/x-red" data-template-name="gitlab2-create-repositoryfile">
  <div class="form-row">
    <label for="node-input-gitlabconfig"><i class="fa fa-globe"></i> API Key</label>
    <input type="text" id="node-input-gitlabconfig">
  </div>
  <div class="form-row">
    <label for="node-input-branch_name"><i class="fa fa-tag"></i> Branch</label>
    <input type="text" id="node-input-branch_name" placeholder="The name of branch,">
  </div>
  <div class="form-row">
    <label for="node-input-encoding"><i class="fa fa-tag"></i> Encoding</label>
    <select type="text" id="node-input-encoding">
        <option value="text">text</option>
        <option value="base64">base64</option>
    </select>
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>
<script type="text/x-red" data-help-name="gitlab2-create-repositoryfile">
  <p>Create new file in repository</p>
  <p>
    Set the following in the node setting or in the input payload.:
    <ul>
      <li><code>msg.payload.project_id</code> :
        <Strong>(required Number)</Strong> The ID of a project</li>
      <li><code>msg.payload.file_path</code> :
        <Strong>(required String)</Strong> Full path to file. </li>
      <li><code>msg.payload.branch_name</code> :
        <Strong>(required String)</Strong> The name of branch</li>
      <li><code>msg.payload.encoding</code> : (String) Select encoding to &#39;text&#39; or &#39;base64&#39;. &#39;text&#39; is default.</li>
      <li><code>msg.payload.content</code> :
        <Strong>(required String)</Strong> File content</li>
      <li><code>msg.payload.commit_message</code> :
        <Strong>(required String)</Strong> Commit message</li>
    </ul>
  </p>
</script>
<script type="text/javascript">
  RED.nodes.registerType('gitlab2-create-repositoryfile', {
    category: 'GitLab',
    defaults: {
      name: {
        value: ""
      },
      branch_name: {
        value: ""
      },
      encoding: {
        value: "text"
      },
      gitlabconfig: {
        type: "gitlab2-config",
        required: true
      }
    },
    color: "#f89406",
    inputs: 1,
    outputs: 1,
    icon: "logo.svg",
    label: function() {
      return this.name || "create-repositoryfile";
    },
    labelStyle: function() {
      return this.name ? "node_label_italic" : "";
    }
  });
</script>
